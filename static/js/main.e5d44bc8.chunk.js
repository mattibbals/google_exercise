(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,n){t.exports=n(17)},16:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),o=n(8),l=n.n(o),c=(n(16),n(2)),s=n(3),i=n(5),u=n(4),p=n(6),f=n(0),d=function(t){function e(t){return Object(c.a)(this,e),Object(i.a)(this,Object(u.a)(e).call(this,t))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.dateFormat,e=this.props.height,n=this.props.legendAxisY;void 0!==this.props.uriPath&&f.e(this.props.uriPath).then(function(a){!function(t,e,n,a){var r=Object.keys(t[0]),o=r[0],l=r[1],c=r[2],s=f.g().key(function(t){return t[o]}).entries(t),i={top:20,right:80,bottom:30,left:50},u=parseInt(f.j("#chart").style("width"))-i.left-i.right,p=n-i.top-i.bottom,d=f.j("#chart");d.attr("height",p);var h=f.i(),m=f.h(),b=f.d(t,function(t){return+t[l]}),v=f.d(t,function(t){return+t[c]});h.domain(b),m.domain(v),h.range([i.left,u]),m.range([p-i.bottom,i.top]);var g=f.a(h),y=f.b(m),x=f.k(a),j=f.f().x(function(t){return h(t[l])}).y(function(t){return m(t[c])}),w=f.j("body").append("div").attr("class","tooltip").style("opacity",0);function E(){u=parseInt(f.j("#chart").style("width"))-i.left-i.right,p=n-i.top-i.bottom,h.range([i.left,u]),m.range([p-i.bottom,i.top]),d.select(".x.axis").attr("transform","translate(0,"+(p-i.bottom)+")").call(g),d.select(".y.axis").call(y),s.forEach(function(t,n){var a=t.values,r=j(a),s=t[l],i=t[c],u=t[o];d.select(".line"+n).attr("d",r),d.select(".textKey"+n).attr("transform","translate("+h(t.values[t.values.length-1][l])+","+m(t.values[t.values.length-1][c])+")"),d.selectAll(".circle").attr("cx",function(t){return h(s)}).attr("cy",function(t){return m(i)}).on("mouseover",function(t){console.log("here"),w.style("opacity",.8),w.html("<b>"+u+"</b><br/><b>Date: </b>"+x(s)+"<br/><b>"+e+":</b> "+i).style("left",f.c.pageX+"px").style("top",f.c.pageY-28+"px")}).on("mouseout",function(t){w.style("opacity",0)})}),g.ticks(Math.max(u/75,2)),y.ticks(Math.max(p/50,2))}d.append("svg:g").attr("class","x axis").attr("transform","translate(0,"+(p-i.bottom)+")").call(g),d.append("svg:g").attr("class","y axis").attr("transform","translate("+i.left+",0)").call(y).append("text").attr("transform","rotate(-90)").attr("fill","#000").attr("y",10).text(e),s.forEach(function(t,n){var a=t.values,r=j(a),o=t[l],s=t[c];d.append("svg:path").attr("class","line"+n).attr("d",r).attr("stroke",function(t,e){return"hsl("+50*n%360+",100%,50%)"}).attr("stroke-width",2).attr("fill","none"),d.append("svg:text").attr("class","textKey"+n).attr("transform","translate("+h(a[a.length-1][l])+","+m(a[a.length-1][c])+")").style("font","10px sans-serif").text(t.key),d.selectAll("dot").data(t.values).enter().append("circle").attr("r",5).attr("class","circle").attr("opacity",0).attr("cx",function(t){return h(o)}).attr("cy",function(t){return m(s)}).on("mouseover",function(t){w.style("opacity",.8),w.html("<b>Date: </b>"+x(o)+"<br/><b>"+e+":</b> "+s).style("left",f.c.pageX+"px").style("top",f.c.pageY-28+"px")}).on("mouseout",function(t){w.style("opacity",0)})}),f.j(window).on("resize",E),setTimeout(function(){E()},3)}(function(t,e){var n=f.l(e),a=[];return t.forEach(function(t){Object.keys(t).forEach(function(e,r){"Date"!==e&&null!==t[e]&&a.push({columnKey:e,date:n(t.Date),value:t[e]})})}),a}(a,t),n,e,t)}).catch(function(t){return console.warn(t)})}},{key:"render",value:function(){return a.createElement("svg",{id:"chart"})}}]),e}(a.Component),h=function(t){return a.createElement("div",{className:"well text-center"},a.createElement("h1",null,t.title))},m=n(9),b=function(t){function e(t){return Object(c.a)(this,e),Object(i.a)(this,Object(u.a)(e).call(this,t))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){void 0!==this.props.uriPath&&f.e(this.props.uriPath).then(function(t){var e=[];t instanceof Array&&t.forEach(function(t){e.push(Object(m.a)({Date:t.Date},t))});var n=Object.keys(e[0]);!function(t,e){var n=f.j("#tableComponent").append("table").attr("class","table text-center"),a=n.append("thead"),r=n.append("tbody");a.append("tr").attr("class","text-center").selectAll("th").data(e).enter().append("th").text(function(t){return t.toString()});r.selectAll("tr").data(t).enter().append("tr").selectAll("td").data(function(t){return e.map(function(e){return{column:e,value:t[e]}})}).enter().append("td").text(function(t){return t.value})}(e,n)}).catch(function(t){return console.warn(t)})}},{key:"render",value:function(){return a.createElement("div",{className:"container"},a.createElement("div",{className:"jumbotron"},a.createElement("div",{id:"tableComponent",className:"table-responsive"})))}}]),e}(a.Component),v=function(){var t="//storage.googleapis.com/gweb-dat-coding-challenge-data-sources/",e=[{data_file:"us_house_price_idx.json",legend:"US House Price Index",date_format:"%Y-%m-%d"},{data_file:"global_co2_emissions_from_fossil_fuels.json",legend:"Global CO2 Emissions from Fossil Fuel",date_format:"%Y"}];return a.createElement("div",null,a.createElement(h,{title:e[0].legend}),a.createElement(d,{uriPath:t+e[0].data_file,dateFormat:e[0].date_format,height:"800",legendAxisY:e[0].legend}),a.createElement("br",null),a.createElement(b,{uriPath:t+e[0].data_file}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.e5d44bc8.chunk.js.map